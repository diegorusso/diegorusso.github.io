---
layout: post
status: publish
published: true
title: 'HOWTO: Zeroshell su Xen'
author:
  display_name: diegor
  login: diegor
  email: me@diegor.it
  url: http://www.diegor.it
author_login: diegor
author_email: me@diegor.it
author_url: http://www.diegor.it
wordpress_id: 1050
wordpress_url: http://www.diegor.it/?p=1050
date: '2009-01-30 11:59:55 +0000'
date_gmt: '2009-01-30 10:59:55 +0000'
categories:
- car
- technology
- linux
- job
- howto
- guida
tags:
- howto
- test
- guida
comments:
- id: 1168
  author: diegor
  author_email: me@diegor.it
  author_url: http://www.diegor.it
  date: '2009-02-02 13:14:10 +0000'
  date_gmt: '2009-02-02 12:14:10 +0000'
  content: Ehehe, sei scusato! :)
- id: 1169
  author: Mattia
  author_email: m.cinquilli@gmail.com
  author_url: http://mattyfivestars.blogspot.com
  date: '2009-02-02 09:39:39 +0000'
  date_gmt: '2009-02-02 08:39:39 +0000'
  content: Bravo bravo....imsegna alla genete come sprecare il 6-7% del potenziale
    del loro pc! ;)
- id: 1170
  author: Mattia
  author_email: m.cinquilli@gmail.com
  author_url: http://mattyfivestars.blogspot.com
  date: '2009-02-02 09:47:51 +0000'
  date_gmt: '2009-02-02 08:47:51 +0000'
  content: 'ogni parola un miss-type: e'' lunedi''!'
---
<p style="padding-left: 30px; ">Ciao, oggi vi spiego come far girare <a title="Zeroshell" href="http://www.zeroshell.net/">Zeroshell</a> su una macchina virtuale basata su <a href="http://www.xen.org/">XEN</a>.&nbsp;<a title="Zeroshell" href="http://www.zeroshell.net/">Zeroshell</a> &egrave; una distribuzione linux interamente sviluppata da un italiano (Fulvio Ricciardi) indicata soprattutto per sistemi embedded. In alcuni casi (come nel mio) si ha la necessit&agrave; di installarla in una macchina virtuale per effettuare dei test.<br />
Dunque, una volta installato <a href="http://www.xen.org/">XEN</a> (<a title="Xen su Debian" href="http://wiki.debian.org/Xen">qui una guida per debian</a>) &egrave; sufficiente scaricarsi l'immagine disco di Zeroshell da <a title="Zeroshell Download" href="http://www.zeroshell.net/download/">questa pagina</a> (ATTENZIONE!! Dovete scaricare l'immagine IDE,SATA USB da 1GB!!) e posizionarla ad esempio in<em> "/var/xen/domains/zeroshell". </em><br />
In XEN dovete avere compilato il supporto della piena virtualizazione: in debian sono nel pacchetto <em><strong>"xen-ioemu".<br />
<span style="font-style: normal; font-weight: normal; ">Fatto ci&ograve; create il file di configurazione<em> "/etc/xen/zeroshell.cfg" </em>con il seguente contenuto:</span></strong></em></p>
<pre>#  Kernel + memory size<br />
kernel = 'hvmloader'    #path to hvmloader<br />
builder = 'hvm'<br />
memory  = '256'<br />
device_model = '/usr/lib/xen/bin/qemu-dm' #path to qemu-dm</p>
<p>boot = "c"<br />
sdl=0<br />
vncviewer=0<br />
vnc=1<br />
stdvga=0<br />
serial='pty'</p>
<p>#  Disk device(s).<br />
root    = '/dev/ram1 ro'<br />
disk    = [ 'file:/var/xen/domains/zeroshell/hdabeta10.img,hda,w' ]</p>
<p>#  Hostname<br />
name    = 'zeroshell'</p>
<p>#  Networking<br />
vif  = [ 'ip=192.168.111.222' ]</p>
<p>#  Behaviour<br />
on_poweroff = 'destroy'<br />
on_reboot   = 'restart'<br />
on_crash    = 'restart'</pre><br />
Una volta creato il file di configurarazione digitare <em>"xm create /etc/xen/zeroshell.cfg"</em> per poi controllare l'effettivo boot della macchina virtuale con "xm list":</p>
<pre>Name                                        ID   Mem VCPUs      State   Time(s)<br />
Domain-0                                     0  3696     8     r-----  62821.5<br />
diegor                                      85   256     1     -b----   1022.0<br />
francesco                                   87   256     1     -b----    245.8<br />
giacomo                                     88   256     1     -b----     73.2<br />
zeroshell                                  123   256     1     r-----  34077.7</pre><br />
Nel caso della piena virtualizzazione il comando "xm console" non ha nessun effetto. Per accedere alla macchina virtuale si deve usare un client vnc, <strong><span style="text-decoration: underline;">impostando l'ip della Dom0 e non di zeroshell!!!</span></strong></p>
