---
layout: post
status: publish
published: true
title: 'HOWTO: AutoVivification in python'
author:
  display_name: diegor
  login: diegor
  email: me@diegor.it
  url: http://www.diegor.it
author_login: diegor
author_email: me@diegor.it
author_url: http://www.diegor.it
wordpress_id: 3589
wordpress_url: http://www.diegor.it/?p=3589
date: '2014-01-15 15:45:34 +0000'
date_gmt: '2014-01-15 15:45:34 +0000'
categories:
- Uncategorized
- howto
tags:
- howto
- python
comments: []
---
<pre>class AutoVivification(dict):<br />
    """Implementation of perl's autovivification feature."""<br />
    def __init__(self,*arg,**kw):<br />
          super(AutoVivification, self).__init__(*arg, **kw)                    </p>
<p>    def __getitem__(self, item):<br />
        try:<br />
            return dict.__getitem__(self, item)<br />
        except KeyError:<br />
            value = self[item] = type(self)()<br />
            return value<br />
    @property<br />
    def dict(self):<br />
        return self._to_dict(self)                                              </p>
<p>    @classmethod<br />
    def _to_dict(cls, sub_dict):<br />
        return {k:cls._to_dict(v) for k,v in sub_dict.items()} \<br />
                    if isinstance(sub_dict, cls) else sub_dict</pre><br />
<em>Source: <a href="http://stackoverflow.com/questions/635483/what-is-the-best-way-to-implement-nested-dictionaries-in-python/652284#652284">here</a> and <a href="http://en.wikipedia.org/wiki/Autovivification#Python">here</a></em></p>
